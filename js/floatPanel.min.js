"use strict";(function(b){var j=b;var l=j.document;var c={};var e={};function h(n,m){c[n]=new g(n);if(m){c[n].set(m)}c[n].reposition();return c[n]}function g(q){var m=l.body;Object.defineProperty(this,"id",{configurable:true,enumerable:true,value:typeof q==="string"?q:"floatPanel",writable:false,});this.backDropNode=null;this.floatHeight=0;var o=l.getElementById(this.id);if(o){o.parentNode.removeChild(o)}var p=l.createElement("div");p.setAttribute("class","floatPanel invisible");p.id=this.id;m.appendChild(p);this.node=l.getElementById(q);var n='<div class="panel panel-blue">'+'<div class="panel-header">'+'<h3 class="panel-title">Panel title</h3>'+"</div>"+'<div class="panel-body">'+"Panel content"+"</div>"+'<div class="panel-footer">'+"Panel footer"+"</div>"+"</div>"+'<div class="floatPanel-space"></div>';this.node.innerHTML=n;Object.defineProperties(this,{width:{configurable:true,enumerable:true,get:function(){return i(this.node,"width")},set:function(r){this.node.querySelector(".panel").style.width=r+"px";return r},},height:{configurable:true,enumerable:true,get:function(){return i(this.node,"height")},set:function(r){this.node.querySelector(".panel").style.height=r+"px";return r},},left:{configurable:true,enumerable:true,get:function(){return Number(i(this.node,"left").replace("px",""))},set:function(r){this.node.style.left=r+"px";return r},},top:{configurable:true,enumerable:true,get:function(){return Number(i(this.node,"top").replace("px",""))},set:function(r){this.node.style.top=r+"px";return r},},zIndex:{configurable:true,enumerable:true,get:function(){return Number(i(this.node,"z-index"))},set:function(r){this.node.style["z-index"]=r;return r},},spaceHeight:{configurable:true,enumerable:true,get:function(){var r=this.node.querySelector("#"+this.id+">.floatPanel-space");return Number(i(r,"height"))},set:function(s){var r=this.node.querySelector("#"+this.id+">.floatPanel-space");r.style["height"]=s+"px";return s},},})}g.prototype={constructor:g,show:function(o,p){var m=arguments;for(var n=0;n<m.length;n++){if(typeof m[n]=="object"){if(m[n].pageX&&m[n].pageY){this.reposition(m[n])}}if(typeof m[n]=="function"){m[n].call(this)}}k(this.node,"active");this.node.style.display="block";a(this.node,"invisible");return this},hide:function(p){if(p&&p.pageX&&p.pageY){var q=this.width+10;var m=this.height+1;var o=Number(p.pageX);var n=Number(p.pageY);if(o>=this.left&&o<=this.left+q&&n>=this.top&&n<=this.top+m){return 0}else{this.backDropNode?this.backDropNode.style.display="none":null;k(this.node,"invisible");a(this.node,"active");this.node.style.removeProperty("max-height");this.node.style.removeProperty("max-width");this.node.style.display="none"}}else{this.backDropNode?this.backDropNode.style.display="none":null;k(this.node,"invisible");a(this.node,"active");this.node.style.removeProperty("max-height");this.node.style.removeProperty("max-width");this.node.style.display="none"}return this},set:function(n){if(n){if(n.width){this.node.querySelector("#"+this.id+" > .panel").style.width=n.width+"px"}if(n.height){this.node.querySelector("#"+this.id+" > .panel").style.width=n.width+"px"}if(n.header){if(n.header.enabled===true){this.node.querySelector(".panel-header").style.display="block"}else{if(n.header.enabled===false){this.node.querySelector(".panel-header").style.display="none"}}if(n.header.content){this.node.querySelector(".panel-header").innerHTML=n.header.content}}if(n.footer){if(n.footer.enabled===true){this.node.querySelector(".panel-footer").style.display="block"}else{if(n.footer.enabled===false){this.node.querySelector(".panel-footer").style.display="none"}}if(n.footer.content){this.node.querySelector(".panel-footer").innerHTML=n.footer.content}}if(n.body){if(n.body.enabled===true){this.node.querySelector(".panel-body").style.display="block"}else{if(n.body.enabled===false){this.node.querySelector(".panel-body").style.display="none"}}if(n.body.content){this.node.querySelector(".panel-body").innerHTML=n.body.content}}if(n.closeBtn===true){var o=this.node.querySelector("#"+this.id+" >button.close-btn");if(o){o.parentNode.removeChild(o)}var m='<button aria-label="关闭" type="button" class="Button close-button Button-plain">'+'<svg class="closeIcon" fill="currentColor" viewBox="0 0 24 24" width="24" height="24" >'+'<path d="M13.486 12l5.208-5.207a1.048 1.048 0 0 0-.006-1.483 1.046 1.046 0 0 0-1.482-.005L12 10.514 6.793 5.305a1.048 1.048 0 0 0-1.483.005 1.046 1.046 0 0 0-.005 1.483L10.514 12l-5.208 5.207a1.048 1.048 0 0 0 .006 1.483 1.046 1.046 0 0 0 1.482.005L12 13.486l5.207 5.208a1.048 1.048 0 0 0 1.483-.006 1.046 1.046 0 0 0 .005-1.482L13.486 12z" '+'fill-rule="evenodd"></path>'+"</svg >"+"</button >";this.node.insertAdjacentHTML("afterbegin",m);this.node.querySelector("#"+this.id+" >button.close-button").addEventListener("click",(function(r){return function(s){r.hide()}}(this)))}else{if(n.closeBtn===false){var o="";o=this.node.querySelector("#"+this.id+" >button.close-button");if(o){this.node.removeChild(o)}}}if(n.backDrop===true){var q=l.querySelector("#"+this.id+"-backDrop");
if(q){q.parentNode.removeChild(q)}var p='<div class="floatPanel-backdrop" id="'+this.id+'-backDrop" style="z-index:'+(this.zIndex-1)+';"></div>';this.node.insertAdjacentHTML("beforebegin",p);this.backDropNode=l.getElementById(this.id+"-backDrop")}else{if(n.backDrop===false){this.backDropNode.parentNode.removeChild(this.backDropNode);this.backDropNode=null}}if(n.floatHeight){this.floatHeight=isNaN(Number(n.floatHeight))?this.floatHeight:Number(n.floatHeight)}if(n.spaceHeight){this.spaceHeight=isNaN(Number(n.spaceHeight))?this.spaceHeight:Number(n.spaceHeight)}}return this},reposition:function(m){var s=l.documentElement.clientWidth;var o=l.documentElement.clientHeight;var q=l.documentElement.scrollTop;var u=l.documentElement.scrollLeft;var t=this.width;var r=this.height+1+this.floatHeight;if(!m||!m.pageX||!m.pageY){var m={};m.pageX=(s/2)+u;m.pageY=(o/2)+q}var p=Number(m.pageX);p=p-t/2;var n=Number(m.pageY);n=n-r;if(t>s){this.node.style.left=(5+u)+"px";this.node.style["max-width"]=(s-10)+"px";this.node.style["overflow-x"]="auto"}else{if((p+t)<(s+u)){if(p<u){this.node.style.left=(5+u)+"px"}else{this.node.style.left=p+"px"}}else{this.node.style.left=(p-(p+t-s-u))+"px"}}if(this.height>o){this.node.style.top=(5+q)+"px";this.node.style["max-height"]=(o-10)+"px";this.node.style["overflow-y"]="auto"}else{if(n<q){this.node.style.top=(5+q)+"px"}else{if(r+n-q<o){this.node.style.top=n+"px"}else{this.node.style.top=(n-(n-q+r-o))+"px"}}}return this},destroy:function(){if(this.backDropNode){this.backDropNode.parentNode.removeChild(this.backDropNode)}this.node.parentNode.removeChild(this.node);for(var m in this){delete this[m]}return null},mouseleave:function(m){this.node.addEventListener("mouseleave",m);return this},mouseenter:function(m){this.node.addEventListener("mouseenter",m);return this},};function i(o,n){var m=null;switch(n){case"width":d(o,n,function(){m=o.offsetWidth});break;case"height":d(o,n,function(){m=o.offsetHeight});break;default:m=d(o,n);break}return m}function d(o,n,p){var m=null;if(o.style[n]){m=o.style[n];return m}else{o.style["visibility"]="hidden";o.style["position"]="absolute";o.style["display"]="block";if(p){p()}else{m=j.getComputedStyle(o)[n]}o.style["visibility"]="";o.style["position"]="";o.style["display"]="";if(m){return m}}}function f(m,n){return !!m.className.match(new RegExp("(\\s|^)"+n+"(\\s|$)"))}function k(m,n){if(!f(m,n)){m.className+=" "+n}}function a(m,n){if(f(m,n)){m.className=m.className.replace(new RegExp("(\\s|^)"+n+"(\\s|$)")," ")}}if(typeof module!=="undefined"&&module.exports){module.exports=h}else{j.FloatPanel=h}})("undefined"!==typeof window?window:this);